<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sheet Metal & Profiles Calculator</title>
<style>
body { font-family: Arial, sans-serif; margin: 10px; padding: 0; }
h1 { color: #333; font-size: 1.5em; text-align:center; }
label { display: block; margin-top: 10px; font-size: 1em; }
input, select, button { font-size: 1em; margin-top:5px; }
input[type="number"] { width: 100%; box-sizing: border-box; padding: 5px; }
button { width: 100%; padding: 10px; margin-top: 10px; background-color:#007bff; color:white; border:none; border-radius:5px; }
table { width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 0.9em; }
th, td { border: 1px solid #ccc; padding: 5px; text-align: center; }
th { background-color: #f4f4f4; }
@media(min-width: 600px) {
    input[type="number"], select, button { width: auto; }
}
</style>
</head>
<body>

<h1>Sheet Metal & Profiles Calculator</h1>

<label>Profile Type:
<select id="profileType">
<option value="sheet">Sheet Metal</option>
<option value="2x.188sq">2" x .188 Square Tube</option>
<option value="2x.125sq">2" x .125 Square Tube</option>
<option value="1.5x.125sq">1.5" x .125 Square Tube</option>
<option value="1x.125sq">1" x .125 Square Tube</option>
<option value="2x.25angle">2" x .25 Angle</option>
<option value="2x.125angle">2" x .125 Angle</option>
<option value="1.5x.125angle">1.5" x .125 Angle</option>
<option value="3channel">3" Channel</option>
<option value="6channel">6" Channel</option>
<option value="2x6tube">2" x 6" Tube</option>
<option value="2x.25flat">2" x .25 Flat Bar</option>
<option value="1.5x.25flat">1.5" x .25 Flat Bar</option>
</select>
</label>

<label>Unit Cost ($ per inch or sq in):
<input type="number" id="unitCost" value="0.055" step="0.001">
</label>

<label>Thickness (optional):
<input type="number" id="thickness" step="0.001">
</label>

<label>Length (inches):
<input type="number" id="length" step="0.01">
</label>

<label>Width (inches, only for sheet):
<input type="number" id="width" step="0.01">
</label>

<label>Markup (%):
<input type="number" id="markup" value="0" step="0.1">
</label>

<button onclick="addPart()">Add Part</button>

<h2>Parts List</h2>
<table id="partsTable">
<thead>
<tr>
<th>#</th>
<th>Profile</th>
<th>Length</th>
<th>Width/Other</th>
<th>Unit Cost</th>
<th>Raw Cost</th>
<th>Final Cost</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

<h2>Total Cost</h2>
<p id="totalCost">$0.00</p>

<script>
let parts = [];

const profileDefaults = {
"sheet": 0.055,
"2x.188sq": 0.82,
"2x.125sq": 0.54,
"1.5x.125sq": 0.42,
"1x.125sq": 0.28,
"2x.25angle": 0.59,
"2x.125angle": 0.44,
"1.5x.125angle": 0.21,
"3channel": 0.66,
"6channel": 1.29,
"2x6tube": 1.12,
"2x.25flat": 0.28,
"1.5x.25flat": 0.24
};

document.getElementById("profileType").addEventListener("change", function(){
    const selected = this.value;
    document.getElementById("unitCost").value = profileDefaults[selected];
});

function addPart() {
    const profile = document.getElementById("profileType").value;
    const length = parseFloat(document.getElementById("length").value) || 0;
    const width = parseFloat(document.getElementById("width").value) || 0;
    const cost = parseFloat(document.getElementById("unitCost").value) || 0;
    const markup = parseFloat(document.getElementById("markup").value) || 0;

    let rawCost = 0;

    if(profile === "sheet"){
        rawCost = length * width * cost;
    } else {
        rawCost = length * cost;
    }

    const finalCost = rawCost * (1 + markup / 100);

    const part = {
        profile,
        length,
        width: profile === "sheet" ? width : "-",
        unitCost: cost,
        rawCost: rawCost,
        finalCost: finalCost
    };

    parts.push(part);
    updateTable();
}

function updateTable() {
    const tbody = document.getElementById("partsTable").querySelector("tbody");
    tbody.innerHTML = "";
    let total = 0;
    parts.forEach((p, i) => {
        const row = document.createElement("tr");
        row.innerHTML = `<td>${i+1}</td><td>${p.profile}</td><td>${p.length}</td><td>${p.width}</td><td>$${p.unitCost.toFixed(3)}</td><td>$${p.rawCost.toFixed(2)}</td><td>$${p.finalCost.toFixed(2)}</td>`;
        tbody.appendChild(row);
        total += p.finalCost;
    });
    document.getElementById("totalCost").innerText = `$${total.toFixed(2)}`;
}
</script>

</body>
</html>